# Приложение с Hystrix

## Описание

### Цель

Сделать внешние вызовы приложения устойчивыми к ошибкам.

#### Результат

Приложение с изолированными с помощью Hystrix внешними вызовами.

#### Требования

1. Обернуть все внешние вызовы в Hystrix, Hystrix Javanica.
2. Возможно использование Resilent4j.
3. Возможно использование Feign Client Опционально: Поднять Turbine Dashboard для мониторинга.

### Описание реализации

Все вызовы контроллера контролируются Hystrix.

### Использование

1. Перейти в каталог `hw18-library-service-with-hystrix`
2. Собрать приложение командой

   ```bash
   mvn clean package
   ```

3. Запустить

   ```bash
   docker-compose up --build -d
   ```

В результате приложение доступно на указанном в .env порту (по умолчанию 8100).

#### Проверка CircuitBreaker

Имитируется отказ микросервиса с БД. Для это останавливается контейнер с БД.

```bash
docker stop hw18libraryservicewithhystrix_mongo_1
```

В результате этого любое обращение к сервису будет ограничено таймаутом, указанным в `bootstrap.yml`
